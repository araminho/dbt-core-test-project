models:
  - name: stg_candidate_latest
    description: "Latest records for candidates in staging"
    columns:
      - name: offset
        data_tests:
          - unique
          - not_null
      - name: candidate_id
        data_tests:
          - not_null
          - unique
      - name: primary_skill_id
        data_tests:
          - relationships:
              to: ref('stg_skills')
              field: skill_id
      - name: job_function_id
        data_tests:
          - relationships:
              to: ref('stg_job_functions')
              field: job_function_id
  - name: stg_employee_latest
    description: "Latest records for employees in staging"
    columns:
      - name: offset
        data_tests:
          - unique
          - not_null
      - name: employee_id
        data_tests:
          - not_null
          - unique
      - name: primary_skill_id
        data_tests:
          - relationships:
              to: ref('stg_skills')
              field: skill_id
      - name: job_function_id
        data_tests:
          - relationships:
              to: ref('stg_job_functions')
              field: job_function_id
  - name: stg_interview_latest
    description: "Latest records for interviews in staging"
    columns:
      - name: offset
        data_tests:
          - unique
          - not_null
      - name: interview_id
        data_tests:
          - not_null
          - unique
      - name: candidate_id
        data_tests:
          - relationships:
              to: ref('stg_candidate_latest')
              field: candidate_id
      - name: interviewer_id
        data_tests:
          - relationships:
              to: ref('stg_employee_latest')
              field: employee_id
  - name: stg_job_function_latest
    description: "Latest records for job functions in staging"
    columns:
      - name: offset
        data_tests:
          - unique
          - not_null
      - name: job_function_id
        data_tests:
          - not_null
          - unique
  - name: stg_skill_latest
    description: "Latest records for skills in staging"
    columns:
      - name: offset
        data_tests:
          - unique
          - not_null
      - name: skill_id
        data_tests:
          - not_null
          - unique